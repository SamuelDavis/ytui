(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=l(s);fetch(s.href,i)}})();function E(){}function ce(t,e){for(const l in e)t[l]=e[l];return t}function Je(t){return t()}function Se(){return Object.create(null)}function Y(t){t.forEach(Je)}function X(t){return typeof t=="function"}function T(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let le;function me(t,e){return le||(le=document.createElement("a")),le.href=e,t===le.href}function Xe(t){return Object.keys(t).length===0}function Ye(t,...e){if(t==null)return E;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function H(t,e,l){t.$$.on_destroy.push(Ye(e,l))}function xe(t,e,l,n){if(t){const s=Be(t,e,l,n);return t[0](s)}}function Be(t,e,l,n){return t[1]&&n?ce(l.ctx.slice(),t[1](n(e))):l.ctx}function et(t,e,l,n){if(t[2]&&n){const s=t[2](n(l));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],r=Math.max(e.dirty.length,s.length);for(let o=0;o<r;o+=1)i[o]=e.dirty[o]|s[o];return i}return e.dirty|s}return e.dirty}function tt(t,e,l,n,s,i){if(s){const r=Be(e,l,n,i);t.p(r,s)}}function nt(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function lt(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function Ee(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function F(t,e,l){return t.set(l),e}function fe(t){return t&&X(t.destroy)?t.destroy:E}function y(t,e){t.appendChild(e)}function $(t,e,l){t.insertBefore(e,l||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function I(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ne(t){return document.createTextNode(t)}function P(){return ne(" ")}function Ze(){return ne("")}function ae(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function m(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Le(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set?t[n]=e[n]:m(t,n,e[n])}function st(t){return Array.from(t.childNodes)}function ve(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Pe(t,e,l){t.classList[l?"add":"remove"](e)}let we;function ee(t){we=t}const G=[],Ve=[],ie=[],Ie=[],it=Promise.resolve();let he=!1;function rt(){he||(he=!0,it.then(Ke))}function ye(t){ie.push(t)}const _e=new Set;let U=0;function Ke(){if(U!==0)return;const t=we;do{try{for(;U<G.length;){const e=G[U];U++,ee(e),ot(e.$$)}}catch(e){throw G.length=0,U=0,e}for(ee(null),G.length=0,U=0;Ve.length;)Ve.pop()();for(let e=0;e<ie.length;e+=1){const l=ie[e];_e.has(l)||(_e.add(l),l())}ie.length=0}while(G.length);for(;Ie.length;)Ie.pop()();he=!1,_e.clear(),ee(t)}function ot(t){if(t.fragment!==null){t.update(),Y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ye)}}const re=new Set;let q;function de(){q={r:0,c:[],p:q}}function pe(){q.r||Y(q.c),q=q.p}function O(t,e){t&&t.i&&(re.delete(t),t.i(e))}function S(t,e,l,n){if(t&&t.o){if(re.has(t))return;re.add(t),q.c.push(()=>{re.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Re(t,e){S(t,1,1,()=>{e.delete(t.key)})}function Fe(t,e,l,n,s,i,r,o,u,c,a,p){let f=t.length,d=i.length,g=f;const v={};for(;g--;)v[t[g].key]=g;const D=[],A=new Map,L=new Map;for(g=d;g--;){const k=p(s,i,g),V=l(k);let _=r.get(V);_?n&&_.p(k,e):(_=c(V,k),_.c()),A.set(V,D[g]=_),V in v&&L.set(V,Math.abs(g-v[V]))}const z=new Set,K=new Set;function R(k){O(k,1),k.m(o,a),r.set(k.key,k),a=k.first,d--}for(;f&&d;){const k=D[d-1],V=t[f-1],_=k.key,h=V.key;k===V?(a=k.first,f--,d--):A.has(h)?!r.has(_)||z.has(_)?R(k):K.has(h)?f--:L.get(_)>L.get(h)?(K.add(_),R(k)):(z.add(h),f--):(u(V,r),f--)}for(;f--;){const k=t[f];A.has(k.key)||u(k,r)}for(;d;)R(D[d-1]);return D}function ut(t,e){const l={},n={},s={$$scope:1};let i=t.length;for(;i--;){const r=t[i],o=e[i];if(o){for(const u in r)u in o||(n[u]=1);for(const u in o)s[u]||(l[u]=o[u],s[u]=1);t[i]=o}else for(const u in r)s[u]=1}for(const r in n)r in l||(l[r]=void 0);return l}function j(t){t&&t.c()}function N(t,e,l,n){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,l),n||ye(()=>{const r=t.$$.on_mount.map(Je).filter(X);t.$$.on_destroy?t.$$.on_destroy.push(...r):Y(r),t.$$.on_mount=[]}),i.forEach(ye)}function C(t,e){const l=t.$$;l.fragment!==null&&(Y(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function ct(t,e){t.$$.dirty[0]===-1&&(G.push(t),rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(t,e,l,n,s,i,r,o=[-1]){const u=we;ee(t);const c=t.$$={fragment:null,ctx:[],props:i,update:E,not_equal:s,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Se(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};r&&r(c.root);let a=!1;if(c.ctx=l?l(t,e.props||{},(p,f,...d)=>{const g=d.length?d[0]:f;return c.ctx&&s(c.ctx[p],c.ctx[p]=g)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](g),a&&ct(t,p)),f}):[],c.update(),a=!0,Y(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const p=st(e.target);c.fragment&&c.fragment.l(p),p.forEach(b)}else c.fragment&&c.fragment.c();e.intro&&O(t.$$.fragment),N(t,e.target,e.anchor,e.customElement),Ke()}ee(u)}class Z{$destroy(){C(this,1),this.$destroy=E}$on(e,l){if(!X(l))return E;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Xe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ft="AIzaSyAYY_wPktJuuvxVN2yVvHa8gBfhJBVVbtQ",at="141965333116-m5jbquvpid81qmnkt95ellsq2t9jkeft.apps.googleusercontent.com",dt=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],pt=["https://www.googleapis.com/auth/youtube.force-ssl"],se={API_KEY:ft,CLIENT_ID:at,DISCOVERY_DOCS:dt,SCOPES:pt};function gt(t){let e,l;return{c(){e=w("img"),me(e.src,l=t[1])||m(e,"src",l),m(e,"alt",t[0]),m(e,"srcset",t[2]),m(e,"sizes",t[3]),m(e,"class","svelte-delyqy")},m(n,s){$(n,e,s)},p(n,[s]){s&1&&m(e,"alt",n[0])},i:E,o:E,d(n){n&&b(e)}}}function _t(t,e,l){let{alt:n=""}=e,{details:s}=e;const{default:{url:i}}=s,[r,o]=Object.values(s).reduce(([u,c],a)=>{const{url:p,width:f,height:d}=a;return[[...u,`${p} ${f}w ${d}h`],[...c,`(min-width: ${f}px)`]]},[[],[]]);return t.$$set=u=>{"alt"in u&&l(0,n=u.alt),"details"in u&&l(4,s=u.details)},[n,i,r,o,s]}class Ue extends Z{constructor(e){super(),B(this,e,_t,gt,T,{alt:0,details:4})}}function Ne(t){let e,l;return{c(){e=w("h3"),l=ne(t[0]),m(e,"class","svelte-97hl75")},m(n,s){$(n,e,s),y(e,l)},p(n,s){s&1&&ve(l,n[0])},d(n){n&&b(e)}}}function Ce(t){let e,l,n,s;return{c(){e=w("figcaption"),l=ne(t[1]),n=P(),s=w("hr"),m(e,"class","svelte-97hl75"),m(s,"class","svelte-97hl75")},m(i,r){$(i,e,r),y(e,l),$(i,n,r),$(i,s,r)},p(i,r){r&2&&ve(l,i[1])},d(i){i&&b(e),i&&b(n),i&&b(s)}}}function mt(t){let e,l,n,s,i,r=t[0]!==null&&Ne(t),o=t[1]!==null&&Ce(t);const u=t[4].default,c=xe(u,t,t[3],null);let a=[t[2]],p={};for(let f=0;f<a.length;f+=1)p=ce(p,a[f]);return{c(){e=w("figure"),r&&r.c(),l=P(),o&&o.c(),n=P(),s=w("div"),c&&c.c(),m(s,"class","svelte-97hl75"),Le(e,p),Pe(e,"svelte-97hl75",!0)},m(f,d){$(f,e,d),r&&r.m(e,null),y(e,l),o&&o.m(e,null),y(e,n),y(e,s),c&&c.m(s,null),i=!0},p(f,[d]){f[0]!==null?r?r.p(f,d):(r=Ne(f),r.c(),r.m(e,l)):r&&(r.d(1),r=null),f[1]!==null?o?o.p(f,d):(o=Ce(f),o.c(),o.m(e,n)):o&&(o.d(1),o=null),c&&c.p&&(!i||d&8)&&tt(c,u,f,f[3],i?et(u,f[3],d,null):nt(f[3]),null),Le(e,p=ut(a,[d&4&&f[2]])),Pe(e,"svelte-97hl75",!0)},i(f){i||(O(c,f),i=!0)},o(f){S(c,f),i=!1},d(f){f&&b(e),r&&r.d(),o&&o.d(),c&&c.d(f)}}}function ht(t,e,l){const n=["bubble","caption"];let s=Ee(e,n),{$$slots:i={},$$scope:r}=e,{bubble:o=null}=e,{caption:u=null}=e;return t.$$set=c=>{e=ce(ce({},e),lt(c)),l(2,s=Ee(e,n)),"bubble"in c&&l(0,o=c.bubble),"caption"in c&&l(1,u=c.caption),"$$scope"in c&&l(3,r=c.$$scope)},[o,u,s,r,i]}class W extends Z{constructor(e){super(),B(this,e,ht,mt,T,{bubble:0,caption:1})}}function yt(t){let e,l;return e=new Ue({props:{alt:t[3]||t[2],details:t[0].snippet.thumbnails}}),{c(){j(e.$$.fragment)},m(n,s){N(e,n,s),l=!0},p(n,s){const i={};s&1&&(i.details=n[0].snippet.thumbnails),e.$set(i)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){S(e.$$.fragment,n),l=!1},d(n){C(e,n)}}}function bt(t){let e,l;return e=new W({props:{id:t[1],title:t[2]+`
`+t[3]+`
`+JSON.stringify(t[0],null,2),caption:t[2],bubble:t[4],$$slots:{default:[yt]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,s){N(e,n,s),l=!0},p(n,[s]){const i={};s&1&&(i.title=n[2]+`
`+n[3]+`
`+JSON.stringify(n[0],null,2)),s&33&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){S(e.$$.fragment,n),l=!1},d(n){C(e,n)}}}function $t(t,e,l){let{playlist:n}=e;const{id:s,snippet:{localized:{title:i,description:r}},contentDetails:{itemCount:o=0}={}}=n;return t.$$set=u=>{"playlist"in u&&l(0,n=u.playlist)},[n,s,i,r,o]}class vt extends Z{constructor(e){super(),B(this,e,$t,bt,T,{playlist:0})}}const Q=[];function wt(t,e){return{subscribe:x(t,e).subscribe}}function x(t,e=E){let l;const n=new Set;function s(o){if(T(t,o)&&(t=o,l)){const u=!Q.length;for(const c of n)c[1](),Q.push(c,t);if(u){for(let c=0;c<Q.length;c+=2)Q[c][0](Q[c+1]);Q.length=0}}}function i(o){s(o(t))}function r(o,u=E){const c=[o,u];return n.add(c),n.size===1&&(l=e(s)||E),o(t),()=>{n.delete(c),n.size===0&&(l(),l=null)}}return{set:s,update:i,subscribe:r}}function Qe(t,e,l){const n=!Array.isArray(t),s=n?[t]:t,i=e.length<2;return wt(l,r=>{let o=!1;const u=[];let c=0,a=E;const p=()=>{if(c)return;a();const d=e(n?u[0]:u,r);i?r(d):a=X(d)?d:E},f=s.map((d,g)=>Ye(d,v=>{u[g]=v,c&=~(1<<g),o&&p()},()=>{c|=1<<g}));return o=!0,p(),function(){Y(f),a()}})}const oe=x(null),be=x(null),ue=x(null),J=Ge("playlists",{}),te=Ge("pendingDelete",{}),$e=x({}),kt=Qe([J,te],([t,e])=>Object.values(t).filter(l=>!(l.id in e)),[]),Ot=Qe([$e,te],([t,e])=>Object.values(t).filter(l=>!(l.id in e)),[]);function Ge(t,e=null){const l=localStorage.getItem(t),n=x(l===null?e:JSON.parse(l));return n.subscribe(s=>localStorage.setItem(t,JSON.stringify(s))),n}function St(t){let e,l,n;return{c(){e=w("button"),e.textContent="Log In"},m(s,i){$(s,e,i),l||(n=ae(e,"click",t[2]),l=!0)},p:E,d(s){s&&b(e),l=!1,n()}}}function Et(t){var d;let e,l,n,s,i,r,o,u,c=((d=t[1])==null?void 0:d.getEmail())+"",a,p,f;return{c(){var g,v;e=w("button"),e.textContent="Log Out",l=P(),n=w("figure"),s=w("img"),o=P(),u=w("figcaption"),a=ne(c),m(s,"referrerpolicy","no-referrer"),me(s.src,i=(g=t[1])==null?void 0:g.getImageUrl())||m(s,"src",i),m(s,"alt",r=(v=t[1])==null?void 0:v.getName()),m(s,"class","svelte-1ktqr53"),m(n,"class","svelte-1ktqr53")},m(g,v){$(g,e,v),$(g,l,v),$(g,n,v),y(n,s),y(n,o),y(n,u),y(u,a),p||(f=ae(e,"click",t[3]),p=!0)},p(g,v){var D,A,L;v&2&&!me(s.src,i=(D=g[1])==null?void 0:D.getImageUrl())&&m(s,"src",i),v&2&&r!==(r=(A=g[1])==null?void 0:A.getName())&&m(s,"alt",r),v&2&&c!==(c=((L=g[1])==null?void 0:L.getEmail())+"")&&ve(a,c)},d(g){g&&b(e),g&&b(l),g&&b(n),p=!1,f()}}}function Lt(t){let e,l,n;function s(o,u){return o[0]?Et:St}let i=s(t),r=i(t);return{c(){e=w("header"),r.c(),l=P(),n=w("hr"),m(e,"class","svelte-1ktqr53")},m(o,u){$(o,e,u),r.m(e,null),$(o,l,u),$(o,n,u)},p(o,[u]){i===(i=s(o))&&r?r.p(o,u):(r.d(1),r=i(o),r&&(r.c(),r.m(e,null)))},i:E,o:E,d(o){o&&b(e),r.d(),o&&b(l),o&&b(n)}}}function Pt(t,e,l){let n,s,i;H(t,ue,u=>l(0,s=u)),H(t,be,u=>l(4,i=u));function r(){i.signIn()}function o(){i.signOut(),localStorage.clear()}return t.$$.update=()=>{t.$$.dirty&1&&l(1,n=s==null?void 0:s.getBasicProfile())},[s,n,r,o]}class Vt extends Z{constructor(e){super(),B(this,e,Pt,Lt,T,{})}}function We(t,e=null){t.setAttribute("draggable","true"),t.addEventListener("dragstart",l=>{e!==null&&l.dataTransfer.setData("application/json",JSON.stringify(e)),setTimeout(()=>{t.classList.add("dragging")})}),t.addEventListener("dragend",()=>{t.classList.remove("dragging"),document.querySelectorAll(".focus").forEach(l=>l.classList.remove("focus"))})}function Ae(t,e=null){let l=0;t.addEventListener("dragenter",()=>{l++,t.classList.add("focus")},!0),t.addEventListener("dragleave",()=>{l--,l===0&&t.classList.remove("focus")}),e!==null&&(t.addEventListener("dragover",n=>{n.preventDefault()}),t.addEventListener("drop",n=>{const s=JSON.parse(n.dataTransfer.getData("application/json")??"null");e(s,t)}))}async function*It(t,e){let l=200,n=null;do{const s=await t.playlistItems.list({pageToken:n,playlistId:e,part:["id,snippet,contentDetails"],maxResults:100});l=s.status,n=s.result.nextPageToken,yield s.result.items}while(l===200&&n)}async function*Nt(t){let e=200,l=null;do{const n=await t.playlists.list({pageToken:l,maxResults:100,mine:!0,part:"id,snippet,contentDetails"});e=n.status,l=n.result.nextPageToken,yield n.result.items}while(e===200&&l)}async function Ct(t,e){const l=await t.playlists.insert({part:["snippet,status"],resource:{snippet:{title:e},status:{privacyStatus:"private"}}}),{status:n,result:s}=l;n===200?J.update(i=>({...i,[s.id]:s})):console.error("create playlist",l)}async function At(t,e){const l=await t.playlists.delete({id:e}),{status:n}=l;n===204?J.update(({[e]:s,...i})=>i):console.error("delete playlist",l)}function je(t){let e,l;return e=new Ue({props:{alt:t[3]||t[2],details:t[0].snippet.thumbnails}}),{c(){j(e.$$.fragment)},m(n,s){N(e,n,s),l=!0},p(n,s){const i={};s&1&&(i.details=n[0].snippet.thumbnails),e.$set(i)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){S(e.$$.fragment,n),l=!1},d(n){C(e,n)}}}function jt(t){var s,i,r;let e,l,n=((r=(i=(s=t[0])==null?void 0:s.snippet)==null?void 0:i.thumbnails)==null?void 0:r.default)&&je(t);return{c(){n&&n.c(),e=Ze()},m(o,u){n&&n.m(o,u),$(o,e,u),l=!0},p(o,u){var c,a,p;(p=(a=(c=o[0])==null?void 0:c.snippet)==null?void 0:a.thumbnails)!=null&&p.default?n?(n.p(o,u),u&1&&O(n,1)):(n=je(o),n.c(),O(n,1),n.m(e.parentNode,e)):n&&(de(),S(n,1,1,()=>{n=null}),pe())},i(o){l||(O(n),l=!0)},o(o){S(n),l=!1},d(o){n&&n.d(o),o&&b(e)}}}function Dt(t){let e,l;return e=new W({props:{id:t[1],title:t[2]+`
`+t[3]+`
`+JSON.stringify(t[0],null,2),caption:t[2],$$slots:{default:[jt]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,s){N(e,n,s),l=!0},p(n,[s]){const i={};s&1&&(i.title=n[2]+`
`+n[3]+`
`+JSON.stringify(n[0],null,2)),s&17&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){S(e.$$.fragment,n),l=!1},d(n){C(e,n)}}}function Ht(t,e,l){let{item:n}=e;const{id:s,snippet:{title:i,description:r}}=n;return t.$$set=o=>{"item"in o&&l(0,n=o.item)},[n,s,i,r]}class Mt extends Z{constructor(e){super(),B(this,e,Ht,Dt,T,{item:0})}}function De(t,e,l){const n=t.slice();return n[7]=e[l],n}function Tt(t){let e,l,n,s;return{c(){e=I("svg"),l=I("path"),n=I("path"),s=I("path"),m(l,"d","M19.071 17V15H11.071V17H19.071Z"),m(l,"fill","currentColor"),m(n,"d","M19.071 9V7H11.071V9H19.071Z"),m(n,"fill","currentColor"),m(s,"d","M19.071 12.9999V10.9999H9.07109V7.96454L5 11.9644L9.07109 15.9644V12.9999H19.071Z"),m(s,"fill","currentColor"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24")},m(i,r){$(i,e,r),y(e,l),y(e,n),y(e,s)},p:E,d(i){i&&b(e)}}}function He(t,e){let l,n,s,i,r,o;return n=new Mt({props:{item:e[7]}}),{key:t,first:null,c(){l=w("li"),j(n.$$.fragment),this.first=l},m(u,c){$(u,l,c),N(n,l,null),i=!0,r||(o=fe(s=We.call(null,l,e[7])),r=!0)},p(u,c){e=u;const a={};c&1&&(a.item=e[7]),n.$set(a),s&&X(s.update)&&c&1&&s.update.call(null,e[7])},i(u){i||(O(n.$$.fragment,u),i=!0)},o(u){S(n.$$.fragment,u),i=!1},d(u){u&&b(l),C(n),r=!1,o()}}}function zt(t){let e,l,n,s;return{c(){e=I("svg"),l=I("path"),n=I("path"),s=I("path"),m(l,"d","M5 17V15H13V17H5Z"),m(l,"fill","currentColor"),m(n,"d","M5 9V7H13V9H5Z"),m(n,"fill","currentColor"),m(s,"d","M5 12.9999V10.9999H14.9999V7.96454L19.071 11.9644L14.9999 15.9644V12.9999H5Z"),m(s,"fill","currentColor"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24")},m(i,r){$(i,e,r),y(e,l),y(e,n),y(e,s)},p:E,d(i){i&&b(e)}}}function qt(t){let e,l;return{c(){e=I("svg"),l=I("path"),m(l,"d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 16 16")},m(n,s){$(n,e,s),y(e,l)},p:E,d(n){n&&b(e)}}}function Jt(t){let e,l,n;return{c(){e=I("svg"),l=I("path"),n=I("path"),m(l,"d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"),m(n,"fill-rule","evenodd"),m(n,"d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 16 16")},m(s,i){$(s,e,i),y(e,l),y(e,n)},p:E,d(s){s&&b(e)}}}function Yt(t){let e,l,n,s,i,r,o,u=[],c=new Map,a,p,f,d,g,v,D,A,L,z,K,R;r=new W({props:{caption:"Previous",$$slots:{default:[Tt]},$$scope:{ctx:t}}});let k=t[0];const V=_=>_[7].id;for(let _=0;_<k.length;_+=1){let h=De(t,k,_),M=V(h);c.set(M,u[_]=He(M,h))}return f=new W({props:{caption:"Next",$$slots:{default:[zt]},$$scope:{ctx:t}}}),v=new W({props:{caption:"Add new Playlist",$$slots:{default:[qt]},$$scope:{ctx:t}}}),L=new W({props:{caption:"Trash",bubble:Object.keys(t[1]).length||null,$$slots:{default:[Jt]},$$scope:{ctx:t}}}),{c(){e=w("hr"),l=P(),n=w("footer"),s=w("ol"),i=w("li"),j(r.$$.fragment),o=P();for(let _=0;_<u.length;_+=1)u[_].c();a=P(),p=w("li"),j(f.$$.fragment),d=P(),g=w("button"),j(v.$$.fragment),D=P(),A=w("button"),j(L.$$.fragment),m(s,"class","svelte-1kswvy"),m(n,"class","svelte-1kswvy")},m(_,h){$(_,e,h),$(_,l,h),$(_,n,h),y(n,s),y(s,i),N(r,i,null),y(s,o);for(let M=0;M<u.length;M+=1)u[M].m(s,null);y(s,a),y(s,p),N(f,p,null),y(n,d),y(n,g),N(v,g,null),y(n,D),y(n,A),N(L,A,null),z=!0,K||(R=[fe(Ae.call(null,s,t[3])),ae(g,"click",t[2]),fe(Ae.call(null,A,t[4])),ae(A,"click",t[5])],K=!0)},p(_,[h]){const M={};h&1024&&(M.$$scope={dirty:h,ctx:_}),r.$set(M),h&1&&(k=_[0],de(),u=Fe(u,h,V,1,_,k,c,s,Re,He,a,De),pe());const ke={};h&1024&&(ke.$$scope={dirty:h,ctx:_}),f.$set(ke);const Oe={};h&1024&&(Oe.$$scope={dirty:h,ctx:_}),v.$set(Oe);const ge={};h&2&&(ge.bubble=Object.keys(_[1]).length||null),h&1024&&(ge.$$scope={dirty:h,ctx:_}),L.$set(ge)},i(_){if(!z){O(r.$$.fragment,_);for(let h=0;h<k.length;h+=1)O(u[h]);O(f.$$.fragment,_),O(v.$$.fragment,_),O(L.$$.fragment,_),z=!0}},o(_){S(r.$$.fragment,_);for(let h=0;h<u.length;h+=1)S(u[h]);S(f.$$.fragment,_),S(v.$$.fragment,_),S(L.$$.fragment,_),z=!1},d(_){_&&b(e),_&&b(l),_&&b(n),C(r);for(let h=0;h<u.length;h+=1)u[h].d();C(f),C(v),C(L),K=!1,Y(R)}}}function Bt(t,e,l){let n,s,i;H(t,oe,a=>l(6,n=a)),H(t,Ot,a=>l(0,s=a)),H(t,te,a=>l(1,i=a));function r(){const a=(prompt("Playlist Name")??"").trim();a&&Ct(n,a)}async function o(a){$e.set({});for await(const p of It(n,a.id))$e.update(f=>p.reduce((d,g)=>({...d,[g.id]:g}),f))}function u(a){te.update(p=>({...p,[a.id]:a.snippet.title}))}function c(){te.update(a=>{const p=Object.values(a);if(p.length===0)return a;const f=`The following playlists will be deleted:
${p.join(`
`)}`;if(!confirm(f))return a;const d=n;return Object.keys(a).forEach(g=>At(d,g)),J.update(g=>Object.fromEntries(Object.entries(g).filter(([v,D])=>!(v in a)))),{}})}return[s,i,r,o,u,c]}class Zt extends Z{constructor(e){super(),B(this,e,Bt,Yt,T,{})}}function Me(t,e,l){const n=t.slice();return n[5]=e[l],n}function Te(t){let e,l,n,s=[],i=new Map,r,o,u,c=t[1];const a=f=>f[5].id;for(let f=0;f<c.length;f+=1){let d=Me(t,c,f),g=a(d);i.set(g,s[f]=qe(g,d))}let p=null;return c.length||(p=ze()),o=new Zt({}),{c(){e=w("main"),l=w("section"),n=w("ol");for(let f=0;f<s.length;f+=1)s[f].c();p&&p.c(),r=P(),j(o.$$.fragment),m(n,"class","svelte-1gaksng"),m(e,"class","svelte-1gaksng")},m(f,d){$(f,e,d),y(e,l),y(l,n);for(let g=0;g<s.length;g+=1)s[g].m(n,null);p&&p.m(n,null),$(f,r,d),N(o,f,d),u=!0},p(f,d){d&2&&(c=f[1],de(),s=Fe(s,d,a,1,f,c,i,n,Re,qe,null,Me),pe(),!c.length&&p?p.p(f,d):c.length?p&&(p.d(1),p=null):(p=ze(),p.c(),p.m(n,null)))},i(f){if(!u){for(let d=0;d<c.length;d+=1)O(s[d]);O(o.$$.fragment,f),u=!0}},o(f){for(let d=0;d<s.length;d+=1)S(s[d]);S(o.$$.fragment,f),u=!1},d(f){f&&b(e);for(let d=0;d<s.length;d+=1)s[d].d();p&&p.d(),f&&b(r),C(o,f)}}}function ze(t){let e;return{c(){e=w("li"),e.innerHTML=`<h1>You have no YouTube playlists.</h1> 
          `},m(l,n){$(l,e,n)},p:E,d(l){l&&b(e)}}}function qe(t,e){let l,n,s,i,r,o,u;return n=new vt({props:{playlist:e[5]}}),{key:t,first:null,c(){l=w("li"),j(n.$$.fragment),s=P(),this.first=l},m(c,a){$(c,l,a),N(n,l,null),y(l,s),r=!0,o||(u=fe(i=We.call(null,l,e[5])),o=!0)},p(c,a){e=c;const p={};a&2&&(p.playlist=e[5]),n.$set(p),i&&X(i.update)&&a&2&&i.update.call(null,e[5])},i(c){r||(O(n.$$.fragment,c),r=!0)},o(c){S(n.$$.fragment,c),r=!1},d(c){c&&b(l),C(n),o=!1,u()}}}function Kt(t){let e,l,n,s;e=new Vt({});let i=t[0]&&Te(t);return{c(){j(e.$$.fragment),l=P(),i&&i.c(),n=Ze()},m(r,o){N(e,r,o),$(r,l,o),i&&i.m(r,o),$(r,n,o),s=!0},p(r,[o]){r[0]?i?(i.p(r,o),o&1&&O(i,1)):(i=Te(r),i.c(),O(i,1),i.m(n.parentNode,n)):i&&(de(),S(i,1,1,()=>{i=null}),pe())},i(r){s||(O(e.$$.fragment,r),O(i),s=!0)},o(r){S(e.$$.fragment,r),S(i),s=!1},d(r){C(e,r),r&&b(l),i&&i.d(r),r&&b(n)}}}function Rt(t,e,l){let n,s,i,r,o;return H(t,J,u=>l(2,n=u)),H(t,oe,u=>l(3,s=u)),H(t,ue,u=>l(0,i=u)),H(t,be,u=>l(4,r=u)),H(t,kt,u=>l(1,o=u)),gapi.load("client:auth2",()=>{F(be,r=gapi.auth2.init({client_id:se.CLIENT_ID,scope:se.SCOPES.join(",")}),r),r.currentUser.listen(async u=>{if(u.isSignedIn())if(F(ue,i=u,i),gapi.client.setApiKey(se.API_KEY),await Promise.all(se.DISCOVERY_DOCS.map(c=>gapi.client.load(c))),F(oe,s=gapi.client.youtube,s),Object.keys(n).length)console.info("Playlists already fetched.");else{console.info("Fetching playlists");for await(const c of Nt(s))J.update(a=>c.reduce((p,f)=>({...p,[f.id]:f}),a))}else F(ue,i=null,i),F(oe,s=null,s),F(J,n={},n)})}),[i,o]}class Ft extends Z{constructor(e){super(),B(this,e,Rt,Kt,T,{})}}new Ft({target:document.body});
