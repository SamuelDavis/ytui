(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function k(){}function ue(t,e){for(const n in e)t[n]=e[n];return t}function Ne(t){return t()}function $e(){return Object.create(null)}function T(t){t.forEach(Ne)}function W(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let te;function pe(t,e){return te||(te=document.createElement("a")),te.href=e,t===te.href}function Be(t){return Object.keys(t).length===0}function Me(t,...e){if(t==null)return k;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function H(t,e,n){t.$$.on_destroy.push(Me(e,n))}function Ye(t,e,n,l){if(t){const s=De(t,e,n,l);return t[0](s)}}function De(t,e,n,l){return t[1]&&l?ue(n.ctx.slice(),t[1](l(e))):n.ctx}function Ze(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],i=Math.max(e.dirty.length,s.length);for(let o=0;o<i;o+=1)r[o]=e.dirty[o]|s[o];return r}return e.dirty|s}return e.dirty}function Je(t,e,n,l,s,r){if(s){const i=De(e,n,l,r);t.p(i,s)}}function Ke(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function Fe(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ve(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}function Y(t,e,n){return t.set(n),e}function ce(t){return t&&W(t.destroy)?t.destroy:k}function y(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function Re(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function E(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t){return document.createTextNode(t)}function P(){return X(" ")}function xe(){return X("")}function fe(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function we(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const l in e)e[l]==null?t.removeAttribute(l):l==="style"?t.style.cssText=e[l]:l==="__value"?t.value=t[l]=e[l]:n[l]&&n[l].set?t[l]=e[l]:d(t,l,e[l])}function Ue(t){return Array.from(t.childNodes)}function he(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ke(t,e,n){t.classList[n?"add":"remove"](e)}let ye;function G(t){ye=t}const K=[],Ce=[],le=[],Oe=[],Qe=Promise.resolve();let ge=!1;function Ge(){ge||(ge=!0,Qe.then(He))}function _e(t){le.push(t)}const de=new Set;let Z=0;function He(){if(Z!==0)return;const t=ye;do{try{for(;Z<K.length;){const e=K[Z];Z++,G(e),We(e.$$)}}catch(e){throw K.length=0,Z=0,e}for(G(null),K.length=0,Z=0;Ce.length;)Ce.pop()();for(let e=0;e<le.length;e+=1){const n=le[e];de.has(n)||(de.add(n),n())}le.length=0}while(K.length);for(;Oe.length;)Oe.pop()();ge=!1,de.clear(),G(t)}function We(t){if(t.fragment!==null){t.update(),T(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_e)}}const se=new Set;let q;function je(){q={r:0,c:[],p:q}}function qe(){q.r||T(q.c),q=q.p}function C(t,e){t&&t.i&&(se.delete(t),t.i(e))}function S(t,e,n,l){if(t&&t.o){if(se.has(t))return;se.add(t),q.c.push(()=>{se.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function Xe(t,e){S(t,1,1,()=>{e.delete(t.key)})}function et(t,e,n,l,s,r,i,o,u,c,_,g){let f=t.length,a=r.length,m=f;const w={};for(;m--;)w[t[m].key]=m;const L=[],A=new Map,M=new Map;for(m=a;m--;){const p=g(s,r,m),h=n(p);let O=i.get(h);O?l&&O.p(p,e):(O=c(h,p),O.c()),A.set(h,L[m]=O),h in w&&M.set(h,Math.abs(m-w[h]))}const Q=new Set,B=new Set;function V(p){C(p,1),p.m(o,_),i.set(p.key,p),_=p.first,a--}for(;f&&a;){const p=L[a-1],h=t[f-1],O=p.key,j=h.key;p===h?(_=p.first,f--,a--):A.has(j)?!i.has(O)||Q.has(O)?V(p):B.has(j)?f--:M.get(O)>M.get(j)?(B.add(O),V(p)):(Q.add(j),f--):(u(h,i),f--)}for(;f--;){const p=t[f];A.has(p.key)||u(p,i)}for(;a;)V(L[a-1]);return L}function tt(t,e){const n={},l={},s={$$scope:1};let r=t.length;for(;r--;){const i=t[r],o=e[r];if(o){for(const u in i)u in o||(l[u]=1);for(const u in o)s[u]||(n[u]=o[u],s[u]=1);t[r]=o}else for(const u in i)s[u]=1}for(const i in l)i in n||(n[i]=void 0);return n}function D(t){t&&t.c()}function I(t,e,n,l){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),l||_e(()=>{const i=t.$$.on_mount.map(Ne).filter(W);t.$$.on_destroy?t.$$.on_destroy.push(...i):T(i),t.$$.on_mount=[]}),r.forEach(_e)}function N(t,e){const n=t.$$;n.fragment!==null&&(T(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){t.$$.dirty[0]===-1&&(K.push(t),Ge(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function x(t,e,n,l,s,r,i,o=[-1]){const u=ye;G(t);const c=t.$$={fragment:null,ctx:[],props:r,update:k,not_equal:s,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:$e(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};i&&i(c.root);let _=!1;if(c.ctx=n?n(t,e.props||{},(g,f,...a)=>{const m=a.length?a[0]:f;return c.ctx&&s(c.ctx[g],c.ctx[g]=m)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](m),_&&nt(t,g)),f}):[],c.update(),_=!0,T(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const g=Ue(e.target);c.fragment&&c.fragment.l(g),g.forEach(b)}else c.fragment&&c.fragment.c();e.intro&&C(t.$$.fragment),I(t,e.target,e.anchor,e.customElement),He()}G(u)}class U{$destroy(){N(this,1),this.$destroy=k}$on(e,n){if(!W(n))return k;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Be(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lt="AIzaSyAYY_wPktJuuvxVN2yVvHa8gBfhJBVVbtQ",st="141965333116-m5jbquvpid81qmnkt95ellsq2t9jkeft.apps.googleusercontent.com",rt=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],it=["https://www.googleapis.com/auth/youtube.force-ssl"],ne={API_KEY:lt,CLIENT_ID:st,DISCOVERY_DOCS:rt,SCOPES:it};function ot(t){let e,n;return{c(){e=v("img"),pe(e.src,n=t[1])||d(e,"src",n),d(e,"alt",t[0]),d(e,"srcset",t[2]),d(e,"sizes",t[3]),d(e,"class","svelte-delyqy")},m(l,s){$(l,e,s)},p(l,[s]){s&1&&d(e,"alt",l[0])},i:k,o:k,d(l){l&&b(e)}}}function ut(t,e,n){let{alt:l=""}=e,{details:s}=e;const{default:{url:r}}=s,[i,o]=Object.values(s).reduce(([u,c],_)=>{const{url:g,width:f,height:a}=_;return[[...u,`${g} ${f}w ${a}h`],[...c,`(min-width: ${f}px)`]]},[[],[]]);return t.$$set=u=>{"alt"in u&&n(0,l=u.alt),"details"in u&&n(4,s=u.details)},[l,r,i,o,s]}class ct extends U{constructor(e){super(),x(this,e,ut,ot,z,{alt:0,details:4})}}function Se(t){let e,n;return{c(){e=v("h3"),n=X(t[0]),d(e,"class","svelte-gul8qo")},m(l,s){$(l,e,s),y(e,n)},p(l,s){s&1&&he(n,l[0])},d(l){l&&b(e)}}}function Ee(t){let e,n;return{c(){e=v("figcaption"),n=X(t[1]),d(e,"class","svelte-gul8qo")},m(l,s){$(l,e,s),y(e,n)},p(l,s){s&2&&he(n,l[1])},d(l){l&&b(e)}}}function ft(t){let e,n,l,s,r,i=t[0]!==null&&Se(t),o=t[1]!==null&&Ee(t);const u=t[4].default,c=Ye(u,t,t[3],null);let _=[t[2]],g={};for(let f=0;f<_.length;f+=1)g=ue(g,_[f]);return{c(){e=v("figure"),i&&i.c(),n=P(),o&&o.c(),l=P(),s=v("div"),c&&c.c(),d(s,"class","svelte-gul8qo"),we(e,g),ke(e,"svelte-gul8qo",!0)},m(f,a){$(f,e,a),i&&i.m(e,null),y(e,n),o&&o.m(e,null),y(e,l),y(e,s),c&&c.m(s,null),r=!0},p(f,[a]){f[0]!==null?i?i.p(f,a):(i=Se(f),i.c(),i.m(e,n)):i&&(i.d(1),i=null),f[1]!==null?o?o.p(f,a):(o=Ee(f),o.c(),o.m(e,l)):o&&(o.d(1),o=null),c&&c.p&&(!r||a&8)&&Je(c,u,f,f[3],r?Ze(u,f[3],a,null):Ke(f[3]),null),we(e,g=tt(_,[a&4&&f[2]])),ke(e,"svelte-gul8qo",!0)},i(f){r||(C(c,f),r=!0)},o(f){S(c,f),r=!1},d(f){f&&b(e),i&&i.d(),o&&o.d(),c&&c.d(f)}}}function at(t,e,n){const l=["bubble","caption"];let s=ve(e,l),{$$slots:r={},$$scope:i}=e,{bubble:o=null}=e,{caption:u=null}=e;return t.$$set=c=>{e=ue(ue({},e),Fe(c)),n(2,s=ve(e,l)),"bubble"in c&&n(0,o=c.bubble),"caption"in c&&n(1,u=c.caption),"$$scope"in c&&n(3,i=c.$$scope)},[o,u,s,i,r]}class F extends U{constructor(e){super(),x(this,e,at,ft,z,{bubble:0,caption:1})}}function dt(t){let e,n;return e=new ct({props:{alt:t[3]||t[2],details:t[0].snippet.thumbnails}}),{c(){D(e.$$.fragment)},m(l,s){I(e,l,s),n=!0},p(l,s){const r={};s&1&&(r.details=l[0].snippet.thumbnails),e.$set(r)},i(l){n||(C(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){N(e,l)}}}function pt(t){let e,n;return e=new F({props:{id:t[1],title:JSON.stringify(t[0],null,2),caption:t[2],bubble:t[4],$$slots:{default:[dt]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},m(l,s){I(e,l,s),n=!0},p(l,[s]){const r={};s&1&&(r.title=JSON.stringify(l[0],null,2)),s&33&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(C(e.$$.fragment,l),n=!0)},o(l){S(e.$$.fragment,l),n=!1},d(l){N(e,l)}}}function gt(t,e,n){let{playlist:l}=e;const{id:s,snippet:{localized:{title:r,description:i}},contentDetails:{itemCount:o=0}={}}=l;return t.$$set=u=>{"playlist"in u&&n(0,l=u.playlist)},[l,s,r,i,o]}class _t extends U{constructor(e){super(),x(this,e,gt,pt,z,{playlist:0})}}const J=[];function mt(t,e){return{subscribe:ee(t,e).subscribe}}function ee(t,e=k){let n;const l=new Set;function s(o){if(z(t,o)&&(t=o,n)){const u=!J.length;for(const c of l)c[1](),J.push(c,t);if(u){for(let c=0;c<J.length;c+=2)J[c][0](J[c+1]);J.length=0}}}function r(o){s(o(t))}function i(o,u=k){const c=[o,u];return l.add(c),l.size===1&&(n=e(s)||k),o(t),()=>{l.delete(c),l.size===0&&(n(),n=null)}}return{set:s,update:r,subscribe:i}}function ht(t,e,n){const l=!Array.isArray(t),s=l?[t]:t,r=e.length<2;return mt(n,i=>{let o=!1;const u=[];let c=0,_=k;const g=()=>{if(c)return;_();const a=e(l?u[0]:u,i);r?i(a):_=W(a)?a:k},f=s.map((a,m)=>Me(a,w=>{u[m]=w,c&=~(1<<m),o&&g()},()=>{c|=1<<m}));return o=!0,g(),function(){T(f),_()}})}const re=ee(null),me=ee(null),ie=ee(null),R=Te("playlists",{}),oe=Te("pendingDelete",{}),yt=ht([R,oe],([t,e])=>Object.values(t).filter(n=>!(n.id in e)),[]);function Te(t,e=null){const n=localStorage.getItem(t),l=ee(n===null?e:JSON.parse(n));return l.subscribe(s=>localStorage.setItem(t,JSON.stringify(s))),l}function bt(t){let e,n,l;return{c(){e=v("button"),e.textContent="Log In"},m(s,r){$(s,e,r),n||(l=fe(e,"click",t[2]),n=!0)},p:k,d(s){s&&b(e),n=!1,l()}}}function $t(t){var a;let e,n,l,s,r,i,o,u,c=((a=t[1])==null?void 0:a.getEmail())+"",_,g,f;return{c(){var m,w;e=v("button"),e.textContent="Log Out",n=P(),l=v("figure"),s=v("img"),o=P(),u=v("figcaption"),_=X(c),d(s,"referrerpolicy","no-referrer"),pe(s.src,r=(m=t[1])==null?void 0:m.getImageUrl())||d(s,"src",r),d(s,"alt",i=(w=t[1])==null?void 0:w.getName()),d(s,"class","svelte-1ktqr53"),d(l,"class","svelte-1ktqr53")},m(m,w){$(m,e,w),$(m,n,w),$(m,l,w),y(l,s),y(l,o),y(l,u),y(u,_),g||(f=fe(e,"click",t[3]),g=!0)},p(m,w){var L,A,M;w&2&&!pe(s.src,r=(L=m[1])==null?void 0:L.getImageUrl())&&d(s,"src",r),w&2&&i!==(i=(A=m[1])==null?void 0:A.getName())&&d(s,"alt",i),w&2&&c!==(c=((M=m[1])==null?void 0:M.getEmail())+"")&&he(_,c)},d(m){m&&b(e),m&&b(n),m&&b(l),g=!1,f()}}}function vt(t){let e,n,l;function s(o,u){return o[0]?$t:bt}let r=s(t),i=r(t);return{c(){e=v("header"),i.c(),n=P(),l=v("hr"),d(e,"class","svelte-1ktqr53")},m(o,u){$(o,e,u),i.m(e,null),$(o,n,u),$(o,l,u)},p(o,[u]){r===(r=s(o))&&i?i.p(o,u):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null)))},i:k,o:k,d(o){o&&b(e),i.d(),o&&b(n),o&&b(l)}}}function wt(t,e,n){let l,s,r;H(t,ie,u=>n(0,s=u)),H(t,me,u=>n(4,r=u));function i(){r.signIn()}function o(){r.signOut(),localStorage.clear()}return t.$$.update=()=>{t.$$.dirty&1&&n(1,l=s==null?void 0:s.getBasicProfile())},[s,l,i,o]}class kt extends U{constructor(e){super(),x(this,e,wt,vt,z,{})}}function ze(t,e=null){t.setAttribute("draggable","true"),t.addEventListener("dragstart",n=>{e!==null&&n.dataTransfer.setData("application/json",JSON.stringify(e)),setTimeout(()=>{t.classList.add("dragging")})}),t.addEventListener("dragend",()=>{t.classList.remove("dragging"),document.querySelectorAll(".focus").forEach(n=>n.classList.remove("focus"))})}function Le(t,e=null){let n=0;t.addEventListener("dragenter",()=>{n++,t.classList.add("focus")},!0),t.addEventListener("dragleave",()=>{n--,n===0&&t.classList.remove("focus")}),e!==null&&(t.addEventListener("dragover",l=>{l.preventDefault()}),t.addEventListener("drop",l=>{const s=JSON.parse(l.dataTransfer.getData("application/json")??"null");e(s,t)}))}async function*Ct(t){let e=200,n=null;do{const l=await t.playlists.list({pageToken:n,maxResults:5,mine:!0,part:"id,snippet,contentDetails"});e=l.status,n=l.result.nextPageToken,yield l.result.items}while(e===200&&n)}async function Ot(t,e){const n=await t.playlists.insert({part:["snippet,status"],resource:{snippet:{title:e},status:{privacyStatus:"private"}}}),{status:l,result:s}=n;l===200?R.update(r=>({...r,[s.id]:s})):console.error("create playlist",n)}async function St(t,e){const n=await t.playlists.delete({id:e}),{status:l}=n;l===204?R.update(({[e]:s,...r})=>r):console.error("delete playlist",n)}function Et(t,e,n){const l=t.slice();return l[5]=e[n],l[7]=n,l}function Lt(t){let e,n,l,s;return{c(){e=E("svg"),n=E("path"),l=E("path"),s=E("path"),d(n,"d","M19.071 17V15H11.071V17H19.071Z"),d(n,"fill","currentColor"),d(l,"d","M19.071 9V7H11.071V9H19.071Z"),d(l,"fill","currentColor"),d(s,"d","M19.071 12.9999V10.9999H9.07109V7.96454L5 11.9644L9.07109 15.9644V12.9999H19.071Z"),d(s,"fill","currentColor"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 24 24")},m(r,i){$(r,e,i),y(e,n),y(e,l),y(e,s)},p:k,d(r){r&&b(e)}}}function Vt(t){let e,n,l;return{c(){e=E("svg"),n=E("path"),l=E("path"),d(n,"fill-rule","evenodd"),d(n,"clip-rule","evenodd"),d(n,"d","M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23Z"),d(n,"fill","currentColor"),d(l,"d","M16 12L10 16.3301V7.66987L16 12Z"),d(l,"fill","currentColor"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 24 24")},m(s,r){$(s,e,r),y(e,n),y(e,l)},p:k,d(s){s&&b(e)}}}function Pt(t){let e,n,l,s,r;return n=new F({props:{caption:`Video ${t[7]}`,$$slots:{default:[Vt]},$$scope:{ctx:t}}}),{c(){e=v("li"),D(n.$$.fragment)},m(i,o){$(i,e,o),I(n,e,null),l=!0,s||(r=ce(ze.call(null,e)),s=!0)},p(i,o){const u={};o&256&&(u.$$scope={dirty:o,ctx:i}),n.$set(u)},i(i){l||(C(n.$$.fragment,i),l=!0)},o(i){S(n.$$.fragment,i),l=!1},d(i){i&&b(e),N(n),s=!1,r()}}}function At(t){let e,n,l,s;return{c(){e=E("svg"),n=E("path"),l=E("path"),s=E("path"),d(n,"d","M5 17V15H13V17H5Z"),d(n,"fill","currentColor"),d(l,"d","M5 9V7H13V9H5Z"),d(l,"fill","currentColor"),d(s,"d","M5 12.9999V10.9999H14.9999V7.96454L19.071 11.9644L14.9999 15.9644V12.9999H5Z"),d(s,"fill","currentColor"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 24 24")},m(r,i){$(r,e,i),y(e,n),y(e,l),y(e,s)},p:k,d(r){r&&b(e)}}}function It(t){let e,n;return{c(){e=E("svg"),n=E("path"),d(n,"d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 16 16")},m(l,s){$(l,e,s),y(e,n)},p:k,d(l){l&&b(e)}}}function Nt(t){let e,n,l;return{c(){e=E("svg"),n=E("path"),l=E("path"),d(n,"d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"),d(l,"fill-rule","evenodd"),d(l,"d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 16 16")},m(s,r){$(s,e,r),y(e,n),y(e,l)},p:k,d(s){s&&b(e)}}}function Mt(t){let e,n,l,s,r,i,o,u,c,_,g,f,a,m,w,L,A,M,Q;i=new F({props:{caption:"Previous",$$slots:{default:[Lt]},$$scope:{ctx:t}}});let B=new Array(10).fill(void 0),V=[];for(let p=0;p<B.length;p+=1)V[p]=Pt(Et(t,B,p));return _=new F({props:{caption:"Next",$$slots:{default:[At]},$$scope:{ctx:t}}}),a=new F({props:{caption:"Add new Playlist",$$slots:{default:[It]},$$scope:{ctx:t}}}),L=new F({props:{caption:"Trash",bubble:Object.keys(t[0]).length||null,$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){e=v("hr"),n=P(),l=v("footer"),s=v("ol"),r=v("li"),D(i.$$.fragment),o=P();for(let p=0;p<V.length;p+=1)V[p].c();u=P(),c=v("li"),D(_.$$.fragment),g=P(),f=v("button"),D(a.$$.fragment),m=P(),w=v("button"),D(L.$$.fragment),d(s,"class","svelte-1kswvy"),d(l,"class","svelte-1kswvy")},m(p,h){$(p,e,h),$(p,n,h),$(p,l,h),y(l,s),y(s,r),I(i,r,null),y(s,o);for(let O=0;O<V.length;O+=1)V[O].m(s,null);y(s,u),y(s,c),I(_,c,null),y(l,g),y(l,f),I(a,f,null),y(l,m),y(l,w),I(L,w,null),A=!0,M||(Q=[ce(Le.call(null,s,Dt)),fe(f,"click",t[1]),ce(Le.call(null,w,t[2])),fe(w,"click",t[3])],M=!0)},p(p,[h]){const O={};h&256&&(O.$$scope={dirty:h,ctx:p}),i.$set(O);const j={};h&256&&(j.$$scope={dirty:h,ctx:p}),_.$set(j);const be={};h&256&&(be.$$scope={dirty:h,ctx:p}),a.$set(be);const ae={};h&1&&(ae.bubble=Object.keys(p[0]).length||null),h&256&&(ae.$$scope={dirty:h,ctx:p}),L.$set(ae)},i(p){if(!A){C(i.$$.fragment,p);for(let h=0;h<B.length;h+=1)C(V[h]);C(_.$$.fragment,p),C(a.$$.fragment,p),C(L.$$.fragment,p),A=!0}},o(p){S(i.$$.fragment,p),V=V.filter(Boolean);for(let h=0;h<V.length;h+=1)S(V[h]);S(_.$$.fragment,p),S(a.$$.fragment,p),S(L.$$.fragment,p),A=!1},d(p){p&&b(e),p&&b(n),p&&b(l),N(i),Re(V,p),N(_),N(a),N(L),M=!1,T(Q)}}}function Dt(t){console.debug({load:t})}function Ht(t,e,n){let l,s;H(t,re,u=>n(4,l=u)),H(t,oe,u=>n(0,s=u));function r(){const u=(prompt("Playlist Name")??"").trim();u&&Ot(l,u)}function i(u){oe.update(c=>({...c,[u.id]:u.snippet.title}))}function o(){oe.update(u=>{const c=Object.values(u);if(c.length===0)return u;const _=`The following playlists will be deleted:
${c.join(`
`)}`;if(!confirm(_))return u;const g=l;return Object.keys(u).forEach(f=>St(g,f)),{}})}return[s,r,i,o]}class jt extends U{constructor(e){super(),x(this,e,Ht,Mt,z,{})}}function Ve(t,e,n){const l=t.slice();return l[5]=e[n],l}function Pe(t){let e,n,l,s=[],r=new Map,i,o,u,c=t[1];const _=f=>f[5].id;for(let f=0;f<c.length;f+=1){let a=Ve(t,c,f),m=_(a);r.set(m,s[f]=Ie(m,a))}let g=null;return c.length||(g=Ae()),o=new jt({}),{c(){e=v("main"),n=v("section"),l=v("ol");for(let f=0;f<s.length;f+=1)s[f].c();g&&g.c(),i=P(),D(o.$$.fragment),d(l,"class","svelte-1gaksng"),d(e,"class","svelte-1gaksng")},m(f,a){$(f,e,a),y(e,n),y(n,l);for(let m=0;m<s.length;m+=1)s[m].m(l,null);g&&g.m(l,null),$(f,i,a),I(o,f,a),u=!0},p(f,a){a&2&&(c=f[1],je(),s=et(s,a,_,1,f,c,r,l,Xe,Ie,null,Ve),qe(),!c.length&&g?g.p(f,a):c.length?g&&(g.d(1),g=null):(g=Ae(),g.c(),g.m(l,null)))},i(f){if(!u){for(let a=0;a<c.length;a+=1)C(s[a]);C(o.$$.fragment,f),u=!0}},o(f){for(let a=0;a<s.length;a+=1)S(s[a]);S(o.$$.fragment,f),u=!1},d(f){f&&b(e);for(let a=0;a<s.length;a+=1)s[a].d();g&&g.d(),f&&b(i),N(o,f)}}}function Ae(t){let e;return{c(){e=v("li"),e.innerHTML=`<h1>You have no YouTube playlists.</h1> 
          `},m(n,l){$(n,e,l)},p:k,d(n){n&&b(e)}}}function Ie(t,e){let n,l,s,r,i,o,u;return l=new _t({props:{playlist:e[5]}}),{key:t,first:null,c(){n=v("li"),D(l.$$.fragment),s=P(),this.first=n},m(c,_){$(c,n,_),I(l,n,null),y(n,s),i=!0,o||(u=ce(r=ze.call(null,n,e[5])),o=!0)},p(c,_){e=c;const g={};_&2&&(g.playlist=e[5]),l.$set(g),r&&W(r.update)&&_&2&&r.update.call(null,e[5])},i(c){i||(C(l.$$.fragment,c),i=!0)},o(c){S(l.$$.fragment,c),i=!1},d(c){c&&b(n),N(l),o=!1,u()}}}function qt(t){let e,n,l,s;e=new kt({});let r=t[0]&&Pe(t);return{c(){D(e.$$.fragment),n=P(),r&&r.c(),l=xe()},m(i,o){I(e,i,o),$(i,n,o),r&&r.m(i,o),$(i,l,o),s=!0},p(i,[o]){i[0]?r?(r.p(i,o),o&1&&C(r,1)):(r=Pe(i),r.c(),C(r,1),r.m(l.parentNode,l)):r&&(je(),S(r,1,1,()=>{r=null}),qe())},i(i){s||(C(e.$$.fragment,i),C(r),s=!0)},o(i){S(e.$$.fragment,i),S(r),s=!1},d(i){N(e,i),i&&b(n),r&&r.d(i),i&&b(l)}}}function Tt(t,e,n){let l,s,r,i,o;return H(t,R,u=>n(2,l=u)),H(t,re,u=>n(3,s=u)),H(t,ie,u=>n(0,r=u)),H(t,me,u=>n(4,i=u)),H(t,yt,u=>n(1,o=u)),gapi.load("client:auth2",()=>{Y(me,i=gapi.auth2.init({client_id:ne.CLIENT_ID,scope:ne.SCOPES.join(",")}),i),i.currentUser.listen(async u=>{if(u.isSignedIn())if(Y(ie,r=u,r),gapi.client.setApiKey(ne.API_KEY),await Promise.all(ne.DISCOVERY_DOCS.map(c=>gapi.client.load(c))),Y(re,s=gapi.client.youtube,s),Object.keys(l).length)console.info("Playlists already fetched.");else{console.info("Fetching playlists");for await(const c of Ct(s))R.update(_=>c.reduce((g,f)=>({...g,[f.id]:f}),_))}else Y(ie,r=null,r),Y(re,s=null,s),Y(R,l={},l)})}),[r,o]}class zt extends U{constructor(e){super(),x(this,e,Tt,qt,z,{})}}new zt({target:document.body});
