(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=l(s);fetch(s.href,r)}})();function k(){}function ue(t,e){for(const l in e)t[l]=e[l];return t}function Ne(t){return t()}function $e(){return Object.create(null)}function T(t){t.forEach(Ne)}function W(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let te;function pe(t,e){return te||(te=document.createElement("a")),te.href=e,t===te.href}function Be(t){return Object.keys(t).length===0}function Me(t,...e){if(t==null)return k;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function H(t,e,l){t.$$.on_destroy.push(Me(e,l))}function Ye(t,e,l,n){if(t){const s=De(t,e,l,n);return t[0](s)}}function De(t,e,l,n){return t[1]&&n?ue(l.ctx.slice(),t[1](n(e))):l.ctx}function Ze(t,e,l,n){if(t[2]&&n){const s=t[2](n(l));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],i=Math.max(e.dirty.length,s.length);for(let o=0;o<i;o+=1)r[o]=e.dirty[o]|s[o];return r}return e.dirty|s}return e.dirty}function Je(t,e,l,n,s,r){if(s){const i=De(e,l,n,r);t.p(i,s)}}function Ke(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function Fe(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function ve(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function Y(t,e,l){return t.set(l),e}function ce(t){return t&&W(t.destroy)?t.destroy:k}function y(t,e){t.appendChild(e)}function $(t,e,l){t.insertBefore(e,l||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function Re(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function v(t){return document.createElement(t)}function S(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t){return document.createTextNode(t)}function P(){return X(" ")}function xe(){return X("")}function fe(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function d(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function we(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set?t[n]=e[n]:d(t,n,e[n])}function Ue(t){return Array.from(t.childNodes)}function he(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ke(t,e,l){t.classList[l?"add":"remove"](e)}let ye;function G(t){ye=t}const K=[],Ce=[],le=[],Oe=[],Qe=Promise.resolve();let ge=!1;function Ge(){ge||(ge=!0,Qe.then(He))}function _e(t){le.push(t)}const de=new Set;let Z=0;function He(){if(Z!==0)return;const t=ye;do{try{for(;Z<K.length;){const e=K[Z];Z++,G(e),We(e.$$)}}catch(e){throw K.length=0,Z=0,e}for(G(null),K.length=0,Z=0;Ce.length;)Ce.pop()();for(let e=0;e<le.length;e+=1){const l=le[e];de.has(l)||(de.add(l),l())}le.length=0}while(K.length);for(;Oe.length;)Oe.pop()();ge=!1,de.clear(),G(t)}function We(t){if(t.fragment!==null){t.update(),T(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_e)}}const se=new Set;let q;function je(){q={r:0,c:[],p:q}}function qe(){q.r||T(q.c),q=q.p}function C(t,e){t&&t.i&&(se.delete(t),t.i(e))}function L(t,e,l,n){if(t&&t.o){if(se.has(t))return;se.add(t),q.c.push(()=>{se.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Xe(t,e){L(t,1,1,()=>{e.delete(t.key)})}function et(t,e,l,n,s,r,i,o,u,c,_,g){let f=t.length,a=r.length,m=f;const w={};for(;m--;)w[t[m].key]=m;const E=[],A=new Map,M=new Map;for(m=a;m--;){const p=g(s,r,m),h=l(p);let O=i.get(h);O?n&&O.p(p,e):(O=c(h,p),O.c()),A.set(h,E[m]=O),h in w&&M.set(h,Math.abs(m-w[h]))}const Q=new Set,B=new Set;function V(p){C(p,1),p.m(o,_),i.set(p.key,p),_=p.first,a--}for(;f&&a;){const p=E[a-1],h=t[f-1],O=p.key,j=h.key;p===h?(_=p.first,f--,a--):A.has(j)?!i.has(O)||Q.has(O)?V(p):B.has(j)?f--:M.get(O)>M.get(j)?(B.add(O),V(p)):(Q.add(j),f--):(u(h,i),f--)}for(;f--;){const p=t[f];A.has(p.key)||u(p,i)}for(;a;)V(E[a-1]);return E}function tt(t,e){const l={},n={},s={$$scope:1};let r=t.length;for(;r--;){const i=t[r],o=e[r];if(o){for(const u in i)u in o||(n[u]=1);for(const u in o)s[u]||(l[u]=o[u],s[u]=1);t[r]=o}else for(const u in i)s[u]=1}for(const i in n)i in l||(l[i]=void 0);return l}function D(t){t&&t.c()}function I(t,e,l,n){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,l),n||_e(()=>{const i=t.$$.on_mount.map(Ne).filter(W);t.$$.on_destroy?t.$$.on_destroy.push(...i):T(i),t.$$.on_mount=[]}),r.forEach(_e)}function N(t,e){const l=t.$$;l.fragment!==null&&(T(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function nt(t,e){t.$$.dirty[0]===-1&&(K.push(t),Ge(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function x(t,e,l,n,s,r,i,o=[-1]){const u=ye;G(t);const c=t.$$={fragment:null,ctx:[],props:r,update:k,not_equal:s,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:$e(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};i&&i(c.root);let _=!1;if(c.ctx=l?l(t,e.props||{},(g,f,...a)=>{const m=a.length?a[0]:f;return c.ctx&&s(c.ctx[g],c.ctx[g]=m)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](m),_&&nt(t,g)),f}):[],c.update(),_=!0,T(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const g=Ue(e.target);c.fragment&&c.fragment.l(g),g.forEach(b)}else c.fragment&&c.fragment.c();e.intro&&C(t.$$.fragment),I(t,e.target,e.anchor,e.customElement),He()}G(u)}class U{$destroy(){N(this,1),this.$destroy=k}$on(e,l){if(!W(l))return k;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Be(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lt="AIzaSyAYY_wPktJuuvxVN2yVvHa8gBfhJBVVbtQ",st="141965333116-m5jbquvpid81qmnkt95ellsq2t9jkeft.apps.googleusercontent.com",rt=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],it=["https://www.googleapis.com/auth/youtube.force-ssl"],ne={API_KEY:lt,CLIENT_ID:st,DISCOVERY_DOCS:rt,SCOPES:it};function ot(t){let e,l;return{c(){e=v("img"),pe(e.src,l=t[1])||d(e,"src",l),d(e,"alt",t[0]),d(e,"srcset",t[2]),d(e,"sizes",t[3]),d(e,"class","svelte-delyqy")},m(n,s){$(n,e,s)},p(n,[s]){s&1&&d(e,"alt",n[0])},i:k,o:k,d(n){n&&b(e)}}}function ut(t,e,l){let{alt:n=""}=e,{details:s}=e;const{default:{url:r}}=s,[i,o]=Object.values(s).reduce(([u,c],_)=>{const{url:g,width:f,height:a}=_;return[[...u,`${g} ${f}w ${a}h`],[...c,`(min-width: ${f}px)`]]},[[],[]]);return t.$$set=u=>{"alt"in u&&l(0,n=u.alt),"details"in u&&l(4,s=u.details)},[n,r,i,o,s]}class ct extends U{constructor(e){super(),x(this,e,ut,ot,z,{alt:0,details:4})}}function Le(t){let e,l;return{c(){e=v("h3"),l=X(t[0]),d(e,"class","svelte-gul8qo")},m(n,s){$(n,e,s),y(e,l)},p(n,s){s&1&&he(l,n[0])},d(n){n&&b(e)}}}function Se(t){let e,l;return{c(){e=v("figcaption"),l=X(t[1]),d(e,"class","svelte-gul8qo")},m(n,s){$(n,e,s),y(e,l)},p(n,s){s&2&&he(l,n[1])},d(n){n&&b(e)}}}function ft(t){let e,l,n,s,r,i=t[0]!==null&&Le(t),o=t[1]!==null&&Se(t);const u=t[4].default,c=Ye(u,t,t[3],null);let _=[t[2]],g={};for(let f=0;f<_.length;f+=1)g=ue(g,_[f]);return{c(){e=v("figure"),i&&i.c(),l=P(),o&&o.c(),n=P(),s=v("div"),c&&c.c(),d(s,"class","svelte-gul8qo"),we(e,g),ke(e,"svelte-gul8qo",!0)},m(f,a){$(f,e,a),i&&i.m(e,null),y(e,l),o&&o.m(e,null),y(e,n),y(e,s),c&&c.m(s,null),r=!0},p(f,[a]){f[0]!==null?i?i.p(f,a):(i=Le(f),i.c(),i.m(e,l)):i&&(i.d(1),i=null),f[1]!==null?o?o.p(f,a):(o=Se(f),o.c(),o.m(e,n)):o&&(o.d(1),o=null),c&&c.p&&(!r||a&8)&&Je(c,u,f,f[3],r?Ze(u,f[3],a,null):Ke(f[3]),null),we(e,g=tt(_,[a&4&&f[2]])),ke(e,"svelte-gul8qo",!0)},i(f){r||(C(c,f),r=!0)},o(f){L(c,f),r=!1},d(f){f&&b(e),i&&i.d(),o&&o.d(),c&&c.d(f)}}}function at(t,e,l){const n=["bubble","caption"];let s=ve(e,n),{$$slots:r={},$$scope:i}=e,{bubble:o=null}=e,{caption:u=null}=e;return t.$$set=c=>{e=ue(ue({},e),Fe(c)),l(2,s=ve(e,n)),"bubble"in c&&l(0,o=c.bubble),"caption"in c&&l(1,u=c.caption),"$$scope"in c&&l(3,i=c.$$scope)},[o,u,s,i,r]}class F extends U{constructor(e){super(),x(this,e,at,ft,z,{bubble:0,caption:1})}}function dt(t){let e,l;return e=new ct({props:{alt:t[3]||t[2],details:t[0].snippet.thumbnails}}),{c(){D(e.$$.fragment)},m(n,s){I(e,n,s),l=!0},p(n,s){const r={};s&1&&(r.details=n[0].snippet.thumbnails),e.$set(r)},i(n){l||(C(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){N(e,n)}}}function pt(t){let e,l;return e=new F({props:{id:t[1],title:JSON.stringify(t[0],null,2),caption:t[2],bubble:t[4],$$slots:{default:[dt]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},m(n,s){I(e,n,s),l=!0},p(n,[s]){const r={};s&1&&(r.title=JSON.stringify(n[0],null,2)),s&33&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){l||(C(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){N(e,n)}}}function gt(t,e,l){let{playlist:n}=e;const{id:s,snippet:{localized:{title:r,description:i}},contentDetails:{itemCount:o=0}={}}=n;return t.$$set=u=>{"playlist"in u&&l(0,n=u.playlist)},[n,s,r,i,o]}class _t extends U{constructor(e){super(),x(this,e,gt,pt,z,{playlist:0})}}const J=[];function mt(t,e){return{subscribe:ee(t,e).subscribe}}function ee(t,e=k){let l;const n=new Set;function s(o){if(z(t,o)&&(t=o,l)){const u=!J.length;for(const c of n)c[1](),J.push(c,t);if(u){for(let c=0;c<J.length;c+=2)J[c][0](J[c+1]);J.length=0}}}function r(o){s(o(t))}function i(o,u=k){const c=[o,u];return n.add(c),n.size===1&&(l=e(s)||k),o(t),()=>{n.delete(c),n.size===0&&(l(),l=null)}}return{set:s,update:r,subscribe:i}}function ht(t,e,l){const n=!Array.isArray(t),s=n?[t]:t,r=e.length<2;return mt(l,i=>{let o=!1;const u=[];let c=0,_=k;const g=()=>{if(c)return;_();const a=e(n?u[0]:u,i);r?i(a):_=W(a)?a:k},f=s.map((a,m)=>Me(a,w=>{u[m]=w,c&=~(1<<m),o&&g()},()=>{c|=1<<m}));return o=!0,g(),function(){T(f),_()}})}const re=ee(null),me=ee(null),ie=ee(null),R=Te("playlists",{}),oe=Te("pendingDelete",{}),yt=ht([R,oe],([t,e])=>Object.values(t).filter(l=>!(l.id in e)),[]);function Te(t,e=null){const l=localStorage.getItem(t),n=ee(l===null?e:JSON.parse(l));return n.subscribe(s=>localStorage.setItem(t,JSON.stringify(s))),n}function bt(t){let e,l,n;return{c(){e=v("button"),e.textContent="Log In"},m(s,r){$(s,e,r),l||(n=fe(e,"click",t[2]),l=!0)},p:k,d(s){s&&b(e),l=!1,n()}}}function $t(t){var a;let e,l,n,s,r,i,o,u,c=((a=t[1])==null?void 0:a.getEmail())+"",_,g,f;return{c(){var m,w;e=v("button"),e.textContent="Log Out",l=P(),n=v("figure"),s=v("img"),o=P(),u=v("figcaption"),_=X(c),d(s,"referrerpolicy","no-referrer"),pe(s.src,r=(m=t[1])==null?void 0:m.getImageUrl())||d(s,"src",r),d(s,"alt",i=(w=t[1])==null?void 0:w.getName()),d(s,"class","svelte-1ktqr53"),d(n,"class","svelte-1ktqr53")},m(m,w){$(m,e,w),$(m,l,w),$(m,n,w),y(n,s),y(n,o),y(n,u),y(u,_),g||(f=fe(e,"click",t[3]),g=!0)},p(m,w){var E,A,M;w&2&&!pe(s.src,r=(E=m[1])==null?void 0:E.getImageUrl())&&d(s,"src",r),w&2&&i!==(i=(A=m[1])==null?void 0:A.getName())&&d(s,"alt",i),w&2&&c!==(c=((M=m[1])==null?void 0:M.getEmail())+"")&&he(_,c)},d(m){m&&b(e),m&&b(l),m&&b(n),g=!1,f()}}}function vt(t){let e,l,n;function s(o,u){return o[0]?$t:bt}let r=s(t),i=r(t);return{c(){e=v("header"),i.c(),l=P(),n=v("hr"),d(e,"class","svelte-1ktqr53")},m(o,u){$(o,e,u),i.m(e,null),$(o,l,u),$(o,n,u)},p(o,[u]){r===(r=s(o))&&i?i.p(o,u):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null)))},i:k,o:k,d(o){o&&b(e),i.d(),o&&b(l),o&&b(n)}}}function wt(t,e,l){let n,s,r;H(t,ie,u=>l(0,s=u)),H(t,me,u=>l(4,r=u));function i(){r.signIn()}function o(){r.signOut(),localStorage.clear()}return t.$$.update=()=>{t.$$.dirty&1&&l(1,n=s==null?void 0:s.getBasicProfile())},[s,n,i,o]}class kt extends U{constructor(e){super(),x(this,e,wt,vt,z,{})}}function ze(t,e=null){t.setAttribute("draggable","true"),t.addEventListener("dragstart",l=>{e!==null&&l.dataTransfer.setData("application/json",JSON.stringify(e)),setTimeout(()=>{t.classList.add("dragging")})}),t.addEventListener("dragend",()=>{t.classList.remove("dragging")})}function Ee(t,e=null){let l=0;t.addEventListener("dragenter",()=>{l++,t.classList.add("focus")},!0),t.addEventListener("dragleave",()=>{l--,l===0&&t.classList.remove("focus")}),e!==null&&(t.addEventListener("dragover",n=>{n.preventDefault()}),t.addEventListener("drop",n=>{t.classList.remove("focus");const s=JSON.parse(n.dataTransfer.getData("application/json")??"null");e(s,t)}))}async function*Ct(t){let e=200,l=null;do{const n=await t.playlists.list({pageToken:l,maxResults:5,mine:!0,part:"id,snippet,contentDetails"});e=n.status,l=n.result.nextPageToken,yield n.result.items}while(e===200&&l)}async function Ot(t,e){const l=await t.playlists.insert({part:["snippet,status"],resource:{snippet:{title:e},status:{privacyStatus:"private"}}}),{status:n,result:s}=l;n===200?R.update(r=>({...r,[s.id]:s})):console.error("create playlist",l)}async function Lt(t,e){const l=await t.playlists.delete({id:e}),{status:n}=l;n===204?R.update(({[e]:s,...r})=>r):console.error("delete playlist",l)}function St(t,e,l){const n=t.slice();return n[5]=e[l],n[7]=l,n}function Et(t){let e,l,n,s;return{c(){e=S("svg"),l=S("path"),n=S("path"),s=S("path"),d(l,"d","M19.071 17V15H11.071V17H19.071Z"),d(l,"fill","currentColor"),d(n,"d","M19.071 9V7H11.071V9H19.071Z"),d(n,"fill","currentColor"),d(s,"d","M19.071 12.9999V10.9999H9.07109V7.96454L5 11.9644L9.07109 15.9644V12.9999H19.071Z"),d(s,"fill","currentColor"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 24 24")},m(r,i){$(r,e,i),y(e,l),y(e,n),y(e,s)},p:k,d(r){r&&b(e)}}}function Vt(t){let e,l,n;return{c(){e=S("svg"),l=S("path"),n=S("path"),d(l,"fill-rule","evenodd"),d(l,"clip-rule","evenodd"),d(l,"d","M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23Z"),d(l,"fill","currentColor"),d(n,"d","M16 12L10 16.3301V7.66987L16 12Z"),d(n,"fill","currentColor"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 24 24")},m(s,r){$(s,e,r),y(e,l),y(e,n)},p:k,d(s){s&&b(e)}}}function Pt(t){let e,l,n,s,r;return l=new F({props:{caption:`Video ${t[7]}`,$$slots:{default:[Vt]},$$scope:{ctx:t}}}),{c(){e=v("li"),D(l.$$.fragment)},m(i,o){$(i,e,o),I(l,e,null),n=!0,s||(r=ce(ze.call(null,e)),s=!0)},p(i,o){const u={};o&256&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){n||(C(l.$$.fragment,i),n=!0)},o(i){L(l.$$.fragment,i),n=!1},d(i){i&&b(e),N(l),s=!1,r()}}}function At(t){let e,l,n,s;return{c(){e=S("svg"),l=S("path"),n=S("path"),s=S("path"),d(l,"d","M5 17V15H13V17H5Z"),d(l,"fill","currentColor"),d(n,"d","M5 9V7H13V9H5Z"),d(n,"fill","currentColor"),d(s,"d","M5 12.9999V10.9999H14.9999V7.96454L19.071 11.9644L14.9999 15.9644V12.9999H5Z"),d(s,"fill","currentColor"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 24 24")},m(r,i){$(r,e,i),y(e,l),y(e,n),y(e,s)},p:k,d(r){r&&b(e)}}}function It(t){let e,l;return{c(){e=S("svg"),l=S("path"),d(l,"d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 16 16")},m(n,s){$(n,e,s),y(e,l)},p:k,d(n){n&&b(e)}}}function Nt(t){let e,l,n;return{c(){e=S("svg"),l=S("path"),n=S("path"),d(l,"d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"),d(n,"fill-rule","evenodd"),d(n,"d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 16 16")},m(s,r){$(s,e,r),y(e,l),y(e,n)},p:k,d(s){s&&b(e)}}}function Mt(t){let e,l,n,s,r,i,o,u,c,_,g,f,a,m,w,E,A,M,Q;i=new F({props:{caption:"Previous",$$slots:{default:[Et]},$$scope:{ctx:t}}});let B=new Array(10).fill(void 0),V=[];for(let p=0;p<B.length;p+=1)V[p]=Pt(St(t,B,p));return _=new F({props:{caption:"Next",$$slots:{default:[At]},$$scope:{ctx:t}}}),a=new F({props:{caption:"Add new Playlist",$$slots:{default:[It]},$$scope:{ctx:t}}}),E=new F({props:{caption:"Trash",bubble:Object.keys(t[0]).length||null,$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){e=v("hr"),l=P(),n=v("footer"),s=v("ol"),r=v("li"),D(i.$$.fragment),o=P();for(let p=0;p<V.length;p+=1)V[p].c();u=P(),c=v("li"),D(_.$$.fragment),g=P(),f=v("button"),D(a.$$.fragment),m=P(),w=v("button"),D(E.$$.fragment),d(s,"class","svelte-1kswvy"),d(n,"class","svelte-1kswvy")},m(p,h){$(p,e,h),$(p,l,h),$(p,n,h),y(n,s),y(s,r),I(i,r,null),y(s,o);for(let O=0;O<V.length;O+=1)V[O].m(s,null);y(s,u),y(s,c),I(_,c,null),y(n,g),y(n,f),I(a,f,null),y(n,m),y(n,w),I(E,w,null),A=!0,M||(Q=[ce(Ee.call(null,s,Dt)),fe(f,"click",t[1]),ce(Ee.call(null,w,t[2])),fe(w,"click",t[3])],M=!0)},p(p,[h]){const O={};h&256&&(O.$$scope={dirty:h,ctx:p}),i.$set(O);const j={};h&256&&(j.$$scope={dirty:h,ctx:p}),_.$set(j);const be={};h&256&&(be.$$scope={dirty:h,ctx:p}),a.$set(be);const ae={};h&1&&(ae.bubble=Object.keys(p[0]).length||null),h&256&&(ae.$$scope={dirty:h,ctx:p}),E.$set(ae)},i(p){if(!A){C(i.$$.fragment,p);for(let h=0;h<B.length;h+=1)C(V[h]);C(_.$$.fragment,p),C(a.$$.fragment,p),C(E.$$.fragment,p),A=!0}},o(p){L(i.$$.fragment,p),V=V.filter(Boolean);for(let h=0;h<V.length;h+=1)L(V[h]);L(_.$$.fragment,p),L(a.$$.fragment,p),L(E.$$.fragment,p),A=!1},d(p){p&&b(e),p&&b(l),p&&b(n),N(i),Re(V,p),N(_),N(a),N(E),M=!1,T(Q)}}}function Dt(t){console.debug({load:t})}function Ht(t,e,l){let n,s;H(t,re,u=>l(4,n=u)),H(t,oe,u=>l(0,s=u));function r(){const u=(prompt("Playlist Name")??"").trim();u&&Ot(n,u)}function i(u){oe.update(c=>({...c,[u.id]:u.snippet.title}))}function o(){oe.update(u=>{const c=Object.values(u);if(c.length===0)return u;const _=`The following playlists will be deleted:
${c.join(`
`)}`;if(!confirm(_))return u;const g=n;return Object.keys(u).forEach(f=>Lt(g,f)),{}})}return[s,r,i,o]}class jt extends U{constructor(e){super(),x(this,e,Ht,Mt,z,{})}}function Ve(t,e,l){const n=t.slice();return n[5]=e[l],n}function Pe(t){let e,l,n,s=[],r=new Map,i,o,u,c=t[1];const _=f=>f[5].id;for(let f=0;f<c.length;f+=1){let a=Ve(t,c,f),m=_(a);r.set(m,s[f]=Ie(m,a))}let g=null;return c.length||(g=Ae()),o=new jt({}),{c(){e=v("main"),l=v("section"),n=v("ol");for(let f=0;f<s.length;f+=1)s[f].c();g&&g.c(),i=P(),D(o.$$.fragment),d(n,"class","svelte-1gaksng"),d(e,"class","svelte-1gaksng")},m(f,a){$(f,e,a),y(e,l),y(l,n);for(let m=0;m<s.length;m+=1)s[m].m(n,null);g&&g.m(n,null),$(f,i,a),I(o,f,a),u=!0},p(f,a){a&2&&(c=f[1],je(),s=et(s,a,_,1,f,c,r,n,Xe,Ie,null,Ve),qe(),!c.length&&g?g.p(f,a):c.length?g&&(g.d(1),g=null):(g=Ae(),g.c(),g.m(n,null)))},i(f){if(!u){for(let a=0;a<c.length;a+=1)C(s[a]);C(o.$$.fragment,f),u=!0}},o(f){for(let a=0;a<s.length;a+=1)L(s[a]);L(o.$$.fragment,f),u=!1},d(f){f&&b(e);for(let a=0;a<s.length;a+=1)s[a].d();g&&g.d(),f&&b(i),N(o,f)}}}function Ae(t){let e;return{c(){e=v("li"),e.innerHTML=`<h1>You have no YouTube playlists.</h1> 
          `},m(l,n){$(l,e,n)},p:k,d(l){l&&b(e)}}}function Ie(t,e){let l,n,s,r,i,o,u;return n=new _t({props:{playlist:e[5]}}),{key:t,first:null,c(){l=v("li"),D(n.$$.fragment),s=P(),this.first=l},m(c,_){$(c,l,_),I(n,l,null),y(l,s),i=!0,o||(u=ce(r=ze.call(null,l,e[5])),o=!0)},p(c,_){e=c;const g={};_&2&&(g.playlist=e[5]),n.$set(g),r&&W(r.update)&&_&2&&r.update.call(null,e[5])},i(c){i||(C(n.$$.fragment,c),i=!0)},o(c){L(n.$$.fragment,c),i=!1},d(c){c&&b(l),N(n),o=!1,u()}}}function qt(t){let e,l,n,s;e=new kt({});let r=t[0]&&Pe(t);return{c(){D(e.$$.fragment),l=P(),r&&r.c(),n=xe()},m(i,o){I(e,i,o),$(i,l,o),r&&r.m(i,o),$(i,n,o),s=!0},p(i,[o]){i[0]?r?(r.p(i,o),o&1&&C(r,1)):(r=Pe(i),r.c(),C(r,1),r.m(n.parentNode,n)):r&&(je(),L(r,1,1,()=>{r=null}),qe())},i(i){s||(C(e.$$.fragment,i),C(r),s=!0)},o(i){L(e.$$.fragment,i),L(r),s=!1},d(i){N(e,i),i&&b(l),r&&r.d(i),i&&b(n)}}}function Tt(t,e,l){let n,s,r,i,o;return H(t,R,u=>l(2,n=u)),H(t,re,u=>l(3,s=u)),H(t,ie,u=>l(0,r=u)),H(t,me,u=>l(4,i=u)),H(t,yt,u=>l(1,o=u)),gapi.load("client:auth2",()=>{Y(me,i=gapi.auth2.init({client_id:ne.CLIENT_ID,scope:ne.SCOPES.join(",")}),i),i.currentUser.listen(async u=>{if(u.isSignedIn())if(Y(ie,r=u,r),gapi.client.setApiKey(ne.API_KEY),await Promise.all(ne.DISCOVERY_DOCS.map(c=>gapi.client.load(c))),Y(re,s=gapi.client.youtube,s),Object.keys(n).length)console.info("Playlists already fetched.");else{console.info("Fetching playlists");for await(const c of Ct(s))R.update(_=>c.reduce((g,f)=>({...g,[f.id]:f}),_))}else Y(ie,r=null,r),Y(re,s=null,s),Y(R,n={},n)})}),[r,o]}class zt extends U{constructor(e){super(),x(this,e,Tt,qt,z,{})}}new zt({target:document.body});
